<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="content-style-type" content="text/css" />
<title>Docs For Class Text_Diff_Engine_native</title>
<link rel="stylesheet" type="text/css" href="../media/style.css" />
<link rel="start" href="./index.html" title="API Documentation" />
<link rev="made" href="mailto:webmaster@anti-spam.example.com" />
</head>
<body>

<!-- Begin #header -->
<div id="header">
<h1 id="top">Text_Diff</h1>
<div id="header-menu">
<a href="../classtrees_Text_Diff.html" class="menu">class tree: Text_Diff</a> 
<a href="../elementindex_Text_Diff.html" class="menu">index: Text_Diff</a> 
<a href="../elementindex.html" class="menu">all elements</a>
</div>
</div>

<!-- Begin #menu -->
<div id="menu">
<h2>Packages:</h2>
<ul>
<li><a href="../li_default.html">default</a></li>
<li><a href="../li_BitWiki.html">BitWiki</a></li>
<li><a href="../li_Cache_Lite.html">Cache_Lite</a></li>
<li><a href="../li_HTTP_Request.html">HTTP_Request</a></li>
<li><a href="../li_Net_CheckIP.html">Net_CheckIP</a></li>
<li><a href="../li_Net_DNSBL.html">Net_DNSBL</a></li>
<li><a href="../li_PEAR.html">PEAR</a></li>
<li><a href="../li_Smarty.html">Smarty</a></li>
<li><a href="../li_Text_Diff.html">Text_Diff</a></li>
<li><a href="../li_Text_Highlighter.html">Text_Highlighter</a></li>
<li><a href="../li_Trackback.html">Trackback</a></li>
</ul>
<h2>Files:</h2>
<div class="package">
<ul>
<li><a href="../Text_Diff/_library---pear---Text---Diff.php.html">Diff.php</a></li><li><a href="../Text_Diff/_library---pear---Text---Diff3.php.html">Diff3.php</a></li><li><a href="../Text_Diff/_library---pear---Text---Diff---Renderer---inline.php.html">inline.php</a></li><li><a href="../Text_Diff/_library---pear---Text---Diff---Renderer.php.html">Renderer.php</a></li><li><a href="../Text_Diff/_library---pear---Text---Diff---Renderer---unified.php.html">unified.php</a></li></ul>
</div>
<h2>Classes:</h2>
<div class="package">
<ul>
<li><a href="../Text_Diff/Text_Diff.html">Text_Diff</a></li><li><a href="../Text_Diff/Text_Diff3.html">Text_Diff3</a></li><li><a href="../Text_Diff/Text_Diff3_BlockBuilder.html">Text_Diff3_BlockBuilder</a></li><li><a href="../Text_Diff/Text_Diff3_Op.html">Text_Diff3_Op</a></li><li><a href="../Text_Diff/Text_Diff3_Op_copy.html">Text_Diff3_Op_copy</a></li><li><a href="../Text_Diff/Text_Diff_Engine_native.html">Text_Diff_Engine_native</a></li><li><a href="../Text_Diff/Text_Diff_Engine_xdiff.html">Text_Diff_Engine_xdiff</a></li><li><a href="../Text_Diff/Text_Diff_Op.html">Text_Diff_Op</a></li><li><a href="../Text_Diff/Text_Diff_Op_add.html">Text_Diff_Op_add</a></li><li><a href="../Text_Diff/Text_Diff_Op_change.html">Text_Diff_Op_change</a></li><li><a href="../Text_Diff/Text_Diff_Op_copy.html">Text_Diff_Op_copy</a></li><li><a href="../Text_Diff/Text_Diff_Op_delete.html">Text_Diff_Op_delete</a></li><li><a href="../Text_Diff/Text_Diff_Renderer.html">Text_Diff_Renderer</a></li><li><a href="../Text_Diff/Text_Diff_Renderer_inline.html">Text_Diff_Renderer_inline</a></li><li><a href="../Text_Diff/Text_Diff_Renderer_unified.html">Text_Diff_Renderer_unified</a></li><li><a href="../Text_Diff/Text_MappedDiff.html">Text_MappedDiff</a></li></ul>
</div>
</div>

<!-- Begin #content -->
<div id="content">
<div id="content-title">
<h2>Class: Text_Diff_Engine_native</h2>
<p>Source Location: /library/pear/Text/Diff.php</p>
</div>


<div id="overview">
<h3><a href="#class_details">Class Overview</a></h3>
<pre></pre>
<div class="description">Class used internally by Diff to actually compute the diffs.  This class is  implemented using native PHP code.</div><h4>Author(s):</h4>
<ul>
<li>Geoffrey T. Dairiki &lt;<a href="mailto:dairiki@dairiki.org">dairiki@dairiki.org</a>&gt;</li>
</ul>




        

</div><!-- End #overview -->



<div id="methods">
<h3><a href="#class_methods">Methods</a></h3>
<ul>
    <li><a href="../Text_Diff/Text_Diff_Engine_native.html#methoddiff">diff</a></li>
    <li><a href="../Text_Diff/Text_Diff_Engine_native.html#method_compareseq">_compareseq</a></li>
    <li><a href="../Text_Diff/Text_Diff_Engine_native.html#method_diag">_diag</a></li>
    <li><a href="../Text_Diff/Text_Diff_Engine_native.html#method_lcsPos">_lcsPos</a></li>
    <li><a href="../Text_Diff/Text_Diff_Engine_native.html#method_shiftBoundaries">_shiftBoundaries</a></li>
  </ul>
</div>







<div id="class_details">
<h3>Class Details</h3>
<div class="tags">
[line 322]<br />
<p>Class used internally by Diff to actually compute the diffs.  This class is  implemented using native PHP code.</p>The algorithm used here is mostly lifted from the perl module  Algorithm::Diff (version 1.06) by Ned Konz, which is available at:  http://www.perl.com/CPAN/authors/id/N/NE/NEDKONZ/Algorithm-Diff-1.06.zipMore ideas are taken from:  http://www.ics.uci.edu/~eppstein/161/960229.htmlSome ideas (and a bit of code) are from from analyze.c, from GNU  diffutils-2.7, which can be found at:  ftp://gnudist.gnu.org/pub/gnu/diffutils/diffutils-2.7.tar.gzSome ideas (subdivision by NCHUNKS &gt; 2, and some optimizations) are from  Geoffrey T. Dairiki &lt;dairiki@dairiki.org&gt;. The original PHP version of this  code was written by him, and is used/adapted with his permission.<h4>Tags:</h4>
<div class="tags">
<table summary="tags" class="tags">
<tr>
<td><strong>author:</strong></td><td>Geoffrey T. Dairiki &lt;<a href="mailto:dairiki@dairiki.org">dairiki@dairiki.org</a>&gt;</td>
</tr>
<tr>
<td><strong>access:</strong></td><td>private</td>
</tr>
</table>
</div>
</div>
<p class="top">[ <a href="#top">Top</a> ]</p>
</div>


<div id="class_methods">
<h3>Class Methods</h3>
<div class="tags">

<!-- Begin .method -->
<div class="method">
<h3 id="methoddiff">method diff <span class="smalllinenumber">[line 324]</span></h3>
<!-- Begin .code -->
<div class="code">
<code>void diff(

$from_lines, 
$to_lines)</code>
</div><!-- End .code -->

<!-- Begin docblock.tpl -->
<!-- End docblock.tpl -->


<h4>Parameters:</h4>
<div class="tags">
<table summary="Parameters" class="tags">
<tr>
<td class="type"></td>
<td><strong><var>$from_lines</var></strong></td>
<td></td>
</tr>
<tr>
<td class="type"></td>
<td><strong><var>$to_lines</var></strong></td>
<td></td>
</tr>
</table>
</div><!-- End .tags -->
<p class="top">[ <a href="#top">Top</a> ]</p>
</div><!-- End .method -->


<!-- Begin .method -->
<div class="method">
<h3 id="method_compareseq">method _compareseq <span class="smalllinenumber">[line 559]</span></h3>
<!-- Begin .code -->
<div class="code">
<code>void _compareseq(

$xoff, 
$xlim, 
$yoff, 
$ylim)</code>
</div><!-- End .code -->

<!-- Begin docblock.tpl -->
<p>Finds LCS of two sequences.</p>The results are recorded in the vectors $this-&gt;{x,y}changed[], by  storing a 1 in the element for each line that is an insertion or  deletion (ie. is not in the LCS).The subsequence of file 0 is (XOFF, XLIM) and likewise for file 1.Note that XLIM, YLIM are exclusive bounds.  All line numbers are  origin-0 and discarded lines are not counted.<!-- End docblock.tpl -->


<h4>Parameters:</h4>
<div class="tags">
<table summary="Parameters" class="tags">
<tr>
<td class="type"></td>
<td><strong><var>$xoff</var></strong></td>
<td></td>
</tr>
<tr>
<td class="type"></td>
<td><strong><var>$xlim</var></strong></td>
<td></td>
</tr>
<tr>
<td class="type"></td>
<td><strong><var>$yoff</var></strong></td>
<td></td>
</tr>
<tr>
<td class="type"></td>
<td><strong><var>$ylim</var></strong></td>
<td></td>
</tr>
</table>
</div><!-- End .tags -->
<p class="top">[ <a href="#top">Top</a> ]</p>
</div><!-- End .method -->


<!-- Begin .method -->
<div class="method">
<h3 id="method_diag">method _diag <span class="smalllinenumber">[line 439]</span></h3>
<!-- Begin .code -->
<div class="code">
<code>void _diag(

$xoff, 
$xlim, 
$yoff, 
$ylim, 
$nchunks)</code>
</div><!-- End .code -->

<!-- Begin docblock.tpl -->
<p>Divides the Largest Common Subsequence (LCS) of the sequences (XOFF,  XLIM) and (YOFF, YLIM) into NCHUNKS approximately equally sized  segments.</p>Returns (LCS, PTS).  LCS is the length of the LCS. PTS is an array of  NCHUNKS+1 (X, Y) indexes giving the diving points between sub  sequences.  The first sub-sequence is contained in (X0, X1), (Y0, Y1),  the second in (X1, X2), (Y1, Y2) and so on.  Note that (X0, Y0) ==  (XOFF, YOFF) and (X[NCHUNKS], Y[NCHUNKS]) == (XLIM, YLIM).This function assumes that the first lines of the specified portions of  the two files do not match, and likewise that the last lines do not  match.  The caller must trim matching lines from the beginning and end  of the portions it is going to specify.<!-- End docblock.tpl -->


<h4>Parameters:</h4>
<div class="tags">
<table summary="Parameters" class="tags">
<tr>
<td class="type"></td>
<td><strong><var>$xoff</var></strong></td>
<td></td>
</tr>
<tr>
<td class="type"></td>
<td><strong><var>$xlim</var></strong></td>
<td></td>
</tr>
<tr>
<td class="type"></td>
<td><strong><var>$yoff</var></strong></td>
<td></td>
</tr>
<tr>
<td class="type"></td>
<td><strong><var>$ylim</var></strong></td>
<td></td>
</tr>
<tr>
<td class="type"></td>
<td><strong><var>$nchunks</var></strong></td>
<td></td>
</tr>
</table>
</div><!-- End .tags -->
<p class="top">[ <a href="#top">Top</a> ]</p>
</div><!-- End .method -->


<!-- Begin .method -->
<div class="method">
<h3 id="method_lcsPos">method _lcsPos <span class="smalllinenumber">[line 520]</span></h3>
<!-- Begin .code -->
<div class="code">
<code>void _lcsPos(

$ypos)</code>
</div><!-- End .code -->

<!-- Begin docblock.tpl -->
<!-- End docblock.tpl -->


<h4>Parameters:</h4>
<div class="tags">
<table summary="Parameters" class="tags">
<tr>
<td class="type"></td>
<td><strong><var>$ypos</var></strong></td>
<td></td>
</tr>
</table>
</div><!-- End .tags -->
<p class="top">[ <a href="#top">Top</a> ]</p>
</div><!-- End .method -->


<!-- Begin .method -->
<div class="method">
<h3 id="method_shiftBoundaries">method _shiftBoundaries <span class="smalllinenumber">[line 618]</span></h3>
<!-- Begin .code -->
<div class="code">
<code>void _shiftBoundaries(

$lines, 
&$changed, 
$other_changed)</code>
</div><!-- End .code -->

<!-- Begin docblock.tpl -->
<p>Adjusts inserts/deletes of identical lines to join changes as much as  possible.</p>We do something when a run of changed lines include a line at one end  and has an excluded, identical line at the other.  We are free to  choose which identical line is included.  `compareseq' usually chooses  the one at the beginning, but usually it is cleaner to consider the  following identical line to be the &quot;change&quot;.This is extracted verbatim from analyze.c (GNU diffutils-2.7).<!-- End docblock.tpl -->


<h4>Parameters:</h4>
<div class="tags">
<table summary="Parameters" class="tags">
<tr>
<td class="type"></td>
<td><strong><var>$lines</var></strong></td>
<td></td>
</tr>
<tr>
<td class="type"></td>
<td><strong><var>&$changed</var></strong></td>
<td></td>
</tr>
<tr>
<td class="type"></td>
<td><strong><var>$other_changed</var></strong></td>
<td></td>
</tr>
</table>
</div><!-- End .tags -->
<p class="top">[ <a href="#top">Top</a> ]</p>
</div><!-- End .method -->

</div>
</div>


</div><!-- End #content -->

<div class="credit">
<p>Documentation generated on Tue, 18 Aug 2009 22:34:58 +0900 by <a href="http://www.phpdoc.org">phpDocumentor 1.4.2</a></p>
<p><a href="http://validator.w3.org/check/referer">
XHTML 1.0</a></p>
</div>

</body>
</html>